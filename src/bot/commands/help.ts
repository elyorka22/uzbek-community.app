const TelegramBot = require('node-telegram-bot-api');

export async function helpCommand(bot: any, chatId: number) {
  const helpMessage = `
‚ùì –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Uzbek Community Bot

üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

/start - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
/profile - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º
/search - –ü–æ–∏—Å–∫ —É–∑–±–µ–∫–æ–≤
/help - –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞

üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

1Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è:
   ‚Ä¢ –ù–∞–∂–º–∏—Ç–µ "üìù –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å"
   ‚Ä¢ –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ–±–µ
   ‚Ä¢ –£–∫–∞–∂–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é –∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã

2Ô∏è‚É£ –ü–æ–∏—Å–∫ —É–∑–±–µ–∫–æ–≤:
   ‚Ä¢ –ù–∞–∂–º–∏—Ç–µ "üîç –ù–∞–π—Ç–∏ —É–∑–±–µ–∫–æ–≤"
   ‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –ø–æ–∏—Å–∫–∞
   ‚Ä¢ –û–±—â–∞–π—Ç–µ—Å—å —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

3Ô∏è‚É£ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º:
   ‚Ä¢ –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
   ‚Ä¢ –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å –∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã
   ‚Ä¢ –î–æ–±–∞–≤–ª—è–π—Ç–µ —Ñ–æ—Ç–æ

üí° –°–æ–≤–µ—Ç—ã:
‚Ä¢ –ë—É–¥—å—Ç–µ –≤–µ–∂–ª–∏–≤—ã –ø—Ä–∏ –æ–±—â–µ–Ω–∏–∏
‚Ä¢ –£–∫–∞–∑—ã–≤–∞–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫ –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º
‚Ä¢ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º

üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º.
      `;

  const keyboard = {
    inline_keyboard: [
      [
        { text: 'üìù –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å', callback_data: 'create_profile' },
        { text: 'üîç –ù–∞–π—Ç–∏ —É–∑–±–µ–∫–æ–≤', callback_data: 'search_users' }
      ],
      [
        { text: 'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', callback_data: 'show_stats' },
        { text: 'üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', callback_data: 'main_menu' }
      ]
    ]
  };

  try {
    await bot.sendMessage(chatId, helpMessage, {
      reply_markup: keyboard,
      parse_mode: 'HTML'
    });
  } catch (error) {
    console.error('Error sending help message:', error);
    await bot.sendMessage(chatId, '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–ø—Ä–∞–≤–∫–∏.');
  }
} 